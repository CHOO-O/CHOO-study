# TCI/IP 계층

> 네트워크 관리사 대비 스터디 7일차 정리 내용으로, [이기적 네트워크관리사 1ㆍ2급 필기+실기] 교재 커리큘럼을 따라갑니다.

## TCP/IP 프로토콜

### TCI/IP 프로토콜이란?

🔹 Transmission Control Protocol/Internet Protocol<br>
🔹 이 기종 간 네트워크 환경에 대한 표준이다.<br>
🔹 미국 **ARPANET**에서 개발된 프로토콜이며, OSI보다 먼저 만들어지고 가장 많이 사용되고 있다.<br>
🔹 인터넷에서 사용되고 있으며 다양한 네트워크와 상호 작용이 가능하다.<br>

> **ARPANET이란?**<br> 미국 국방성에서 국방 관련 기관 간에 정보 공유를 위해 추진한 프로젝트로, 원격 로그인, 파일 전송, 전자우편 등의 기능을 지원하는 네트워크이다.

### TCP/IP 4계층

| OSI 7계층                          | TCP/IP 4계층   | 주요 기능                                                                                                                                                    |
| ---------------------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Application, Presentation, Session | Application    | 🔹 네트워크를 실제로 사용하는 응용 프로그램으로 구성된다.<br>🔹 FTP, TELNET, SMTP                                                                            |
| Transport                          | Transport      | 🔹 도착하고자 하는 시스템까지 데이터를 전송한다.<br>🔹 프로세스를 연결해서 통신한다.<br>🔹 TCP, UDP                                                          |
| Network                            | Internet       | 🔹 논리적 주소인 IP주소를 부여해 Datagram을 정의하고 최단 경로를 결정한다.<br>🔹 IP주소를 읽어 경로를 결정하는 Routing을 담당한다.<br>🔹 IP, ARP, RARP, ICMP |
| Data Link, Physical                | Network Access | 🔹 케이블, 송수신기, 링크 프로토콜, LAN 접속과 같은 물리적 연결 구성을 정의한다.                                                                             |

### TCP/IP 프로토콜 스니핑

🔹 **스니핑(Sniffing)** 도구를 사용해 웹사이트로 송수신되는 패킷을 모니터링 해보면 다음과 같은 과정을 볼 수 있다.<br>

1. 웹 사이트이므로 애플리케이션 계층에서 HTTP 프로토콜을 사용한다.
2. HTTP는 내부적으로 TCP 프로토콜을 사용하므로 전송 계층에서는 TCP 프로토콜이 나타난다.
3. 인터넷 계층에서 IP주소를 부여한다.
4. 네트워크 접근 계층에서 이더넷(Ethernet)으로 메시지를 전송한다.

> **스니핑(Sniffing)이란?**<br>네트워크에서 전송되는 데이터 패킷을 가로채고 분석하는 행위를 말한다.<br> 주로 패킷 감청 혹은 트래픽 분석을 목적으로 수행되며, 정보 탈취에 악용되기도 한다.

## 네트워크 접근 계층(Network Access)

### 네트워크 접근 계층이란?

🔹 LAN카드의 물리적 주소인 MAC주소를 가지고 전기적인 비트 신호로 메시지를 전송하는 계층이다.<br>
🔹 프레임(Frame)을 비트 단위로 전송한다.

### 프레임(Frame)의 구조

![Frame](https://github.com/CHOO-O/CHOO-study/blob/main/Network/assets/P02-S02-Frame.png?raw=true)

| 구성                          | 설명                                                                                      |
| ----------------------------- | ----------------------------------------------------------------------------------------- |
| Preamble                      | 동기화 정보를 가지고 있다.                                                                |
| SOF(Starting Frame Delimiter) | 프레임의 시작을 알리는 구분자이다.                                                        |
| Destination Address           | 수신자의 MAC주소이다.                                                                     |
| Source Address                | 송신자의 MAC주소이다.                                                                     |
| Type                          | 상위 계층의 프로토콜 종류를 의미한다.                                                     |
| PAD                           | 프레임 길이를 맞추기 위한 영역이다. 64 byte 길이를 만족하지 않으면 나머지는 0으로 채운다. |
| FCS(Frame Check Sequence)     | 비트열의 오류를 검사하기 위해 사용한다.                                                   |

## 인터넷 계층(Internet)

### 인터넷 계층이란?

🔹 송신자의 IP 주소와 수신자의 IP 주소를 읽어 경로를 결정하거나 전송하는 역할을 수행한다.<br>

#### 인터넷 계층의 기능

🔹 **Routing** : 수신자의 IP 주소를 읽어서 목적지까지 가는 것에 대한 최적의 경로를 판단한다.<br>
🔹 Point to Point Packet 전달<br>
🔹 논리 주소 지정(Logical Addressing) : IP 주소로 변환해서 사용한다.<br>
🔹 주소 변환(Address Transformation) : URL을 IP 주소로 변환해서 사용한다.<br>
🔹 기존 패킷에 IP Header를 붙여 데이터그램을 생성한다.<br>

#### 데이터그램(Datagram)의 구조

| Message | TCP 혹은 UDP | IP Header |
| ------- | ------------ | --------- |

### IP(Internet Protocol)

### IP 주소와 서브넷 마스크(Subnet Mask)

### 라우팅(Routing)

### 라우팅 프로토콜의 종류

### RIP(Routing Information Protocol)

### OSPF(Open Shortest Path First)

### ICMP(Internet Control Message Protocol)

### 데이터 전송 방식

### 멀티캐스트와 IGMP

### NAT(Network Address Translation)

### ARP

### RARP

<!-- ## 전송 계층

## 애플리케이션 계층
 -->
