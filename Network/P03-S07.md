# 리눅스(Linux)

> 네트워크 관리사 대비 스터디 14, 15일차 정리 내용으로, [이기적 네트워크관리사 1ㆍ2급 필기+실기] 교재 커리큘럼을 따라갑니다.

## 리눅스 개요

### 리눅스(Linux)란?

🔹 1989년 리누스 토르발스(Linus Torvalds)가 개발한 유닉스(Unix)기반 오픈소스 운영체제이다.<br>
🔹 대형 서버를 위해 개발된 유닉스와 달리 개인용 컴퓨터나 워크스테이션을 위해 개발되었다.<br>
🔹 오픈소스이므로 사용자가 수정하여 사용할 수도 있다.<br>

### 리눅스의 특징

| **특징**                            | **설명**                                                                                                                                                 |
| ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **다중 사용자(Multi User)**         | 🔹 여러 명의 사용자가 네트워크를 통해 접속해 컴퓨터 시스템을 사용할 수 있다.<br>🔹 따라서 사용자 별 권한 관리와 자원 관리를 지원한다.                    |
| **다중 작업(Multi-Tasking)**        | 🔹 스케줄링 기능을 포함해 여러 프로세스를 동시에 실행시킬 수 있다.<br>🔹 스케줄링은 기본적으로 시간 사용량만큼 자원을 할당하는 시분할 시스템을 지원한다. |
| **다중 처리기(Multi-Processor)**    | 🔹 컴퓨터 시스템에 한 개 이상의 CPU가 탑재되어 있는 경우 다중 처리기로 지원해 작업을 병렬적으로 처리한다.                                                |
| **다중 플랫폼(Multi-Platform)**     | 🔹 인텔, Sun Sparc, Power PC 등 여러 종류의 CPU를 지원한다.                                                                                              |
| **계층형 파일 시스템(File System)** | 🔹 루트(Root)를 기반으로 하위 디렉터리를 이루는 계층형 파일 시스템으로 이루어져있다.                                                                     |
| ***POSIX*와 호환**                  | 🔹 리눅스는 POSIX 표준을 따른다.                                                                                                                         |
| **우수한 네트워킹(Networking)**     | 🔹 TCP/IP, IPX/SPC, Appletalk, Bluetooth 등 다양한 프로토콜을 지원한다.<br>🔹 IP 주소, 게이트웨이, 서브넷 등을 설정하면 바로 네트워크를 사용할 수 있다.  |
| **가상 콘솔(Virtual Console)**      | 🔹 기본적으로 6개의 가상 콘솔이 있으며 각 창마다 서로 다른 작업을 수행할 수 있어 물리적 모니터의 한계를 극복한다.                                        |
| **가상 기억장치(Virtual Memory)**   | 🔹 보조 기억장치를 마치 주 기억장치처럼 사용할 수 있게 해 주 기억장치의 공간을 증대하는 방법이다.                                                        |

> **POSIX란?**<br>IEEE가 지정한 유닉스 시스템의 표준 인터페이스 규격이다.<br>다양한 유닉스 계열 운영체제의 공통적인 API를 제시해 이식성을 높혔다.

### 리눅스의 구조

🔹 리눅스는 크게 커널(Kernel), 셸(Shell), 파일 시스템(File System)으로 구성된다.

| **구성 요소**                | **설명**                                                                                                      | **기능**                                                                                                                                                                                                 |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **커널(Kernel)**             | 주 기억 장치에 상주하는 운영체제의 핵심 기능으로 프로세서, 프로세스, 메모리 입출력 장치 등의 기능을 수행한다. | 🔹 프로세서(Processor) 사용을 관리한다.<br>🔹 주 기억장치(Main Memory) 사용을 관리한다.<br>🔹 실행 중인 프로세스를 관리한다.(Process Management)<br>🔹 주변 장치와 입출력을 관리한다.(Device Management) |
| **셸(Shell)**                | 사용자가 입력한 명령어를 해석/번역하고 실행하는 **인터프리터(Interpreter)** 기능을 수행한다.                  | 🔹 사용자의 명령어를 실행한다.<br>🔹 리눅스 표준 셸은 **bash**이며, 이외에도 C Shell, Korn Shell 등이 있다.                                                                                              |
| **파일 시스템(File System)** | 계층적인 트리 구조를 가진다.                                                                                  | 🔹 파일과 디렉터리 등에 권한을 설정하고 해제한다.<br>🔹 파일의 연결 정보인 링크를 관리한다.<br>🔹 파일의 소유자, 그룹, 파일 생성 일자, 변경 일자 등을 관리한다.                                          |

### 셸(Shell)

![Shell](https://github.com/CHOO-O/CHOO-study/blob/main/Network/assets/P03-S07-Shell.png?raw=true)

🔹 입력된 명령 줄을 해석하고 실행할 프로그램을 결정한다.<br>
🔹 와일드카드(`*`, `?`), 히스토리(`!!`, `!n`), 특수 문자(`$`, `&` 등)를 해석한다.<br>
🔹 프로그램을 실행하고 시그널(`Ctrl+c`, `Ctrl+z` 등)을 처리한다.<br>
🔹 파이프, 리디렉션, 백그라운드 프로세스를 지원한다.<br>
🔹 셀 환경 정보를 확인하려면 `env` 명령어를, 환경 변수를 설정하고싶다면 `set`명령어를 실행하면 된다.

| **셸 종류**                        | **특징**                                                                                                    |
| ---------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| **C Shell(Berkeley Unix C Shell)** | 🔹 `cshrc`파일에 필요한 환경 변수를 저장해 로그인 시 자동 수행 기능이 있어 사용자의 편리성을 높혔다.        |
| **Bourne Shell**                   | 🔹 `.profile`파일에 환경 변수를 저장한다.                                                                   |
| **Korn Shell**                     | 🔹 `.kshrc` 또는 `.profile`파일에 환경 변수를 저장한다.<br>🔹 C 셸 기능을 모두 제공한다.                    |
| **Bash Shell**                     | 🔹 GNU 프로젝트에 의해 개발된 C shell과 Korn Shell의 특징을 결합한 셸이다.<br>🔹 명령 편집 기능을 제공한다. |
| **TC Shell(tcsh)**                 | 🔹 C Shell의 기능을 강화한 것으로 명령 편집 기능을 제공한다.                                                |

### 파일 시스템(File System)

🔹 ext(extend)2, ext3, ext4가 있으며 현재 대부분의 리눅스는 ext4를 지원한다.<br>
|**종류**|**특징**|
|---|---|
|**ext2**|🔹 최대 2 Gigabyte의 단일 파일 크기를 지원한다.<br>🔹 최대 256 Byte의 파일명을 지원한다.<br>🔹 최대 4 Terabyte의 파일 시스템 크기를 지원한다.<br>🔹 디렉터리당 약 25,500개의 파일을 저장할 수 있다.|
|**ext3**|🔹 최대 4 Gigabyte의 단일 파일 크기를 지원한다.<br>🔹 최대 256 Byte의 파일명을 지원한다.<br>🔹 최대 16 Terabyte의 파일 시스템 크기를 지원한다.<br>🔹 디렉터리당 약 65,565개의 파일을 저장할 수 있다.<br>🔹 *저널링 파일 시스템*을 지원한다.|
|**ext4**|🔹 **대용량 파일 지원** : 1 Exabyte의 블록 지원, 16 Terabyte의 단일 파일 크기를 지원한다.<br>🔹 **호환성** : ext2, ext3과 호환성을 가지며 마운트 가능하다.<br>🔹 **fsck** : 파일 무결성 오류 시 실행되는 fcsk 성능이 향상되었다.<br>🔹 **Extends 지원** : 큰 사이즈의 파일을 삭제할 때 시간을 단축했다.<br>🔹 **하위 디렉터리** : 하위 디렉터리 수 제한이 32,000개에서 2배 확대되었다.<br>🔹 **조작모음** : ext3 저널링 파일 시스템에서 발생되는 단편화를 조작모음으로 개선했다.|

> **저널링 파일 시스템이란?**<br>파일 시스템 오류 수정을 위한 파일 시스템이다.

### 파일 시스템 디렉터리 구조

🔹 디렉터리(Directory)란 운영체제의 파일을 관리하기 위한 구조이다.<br>
🔹 리눅스 디렉터리는 계층형 파일 시스템으로 이루어져 있다.<br>
🔹 다중 사용자를 지원하므로 각 사용자 별로 디렉터리를 생성한다.<br>

| **디렉터리명** | **설명**                                                                                                                               |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| **/**          | 루트 디렉터리                                                                                                                          |
| **/bin**       | 기본적인 실행 명령                                                                                                                     |
| **/boot**      | 리눅스 부트 프로그램 LILO 등 부팅 관련 파일                                                                                            |
| **_/dev_**     | 주변장치 파일 모음 (CDROM, USB, Printer 등)                                                                                            |
| **/etc**       | 시스템 설정 파일, 환경설정 관련 파일<br>사용자 패스워드 파일(`passwd`, `shadow`), 프로토콜 및 서비스 정보 파일(`protocol`, `services`) |
| **/home**      | 사용자 홈 디렉터리<br>각 사용자 별로 디렉터리를 생성하면 `/home` 하위에 생성됨                                                         |
| **/lib**       | C 라이브러리                                                                                                                           |
| **/mnt**       | 임시 마운트용 디렉터리                                                                                                                 |
| **/proc**      | 시스템 정보를 가진 가상 디렉터리<br>실행 중인 리눅스 정보를 가지고 있음 (CPU 및 메모리 사용량, 파티션 정보, 입출력 DMA 등)             |
| **/root**      | 루트 사용자의 홈 디렉터리                                                                                                              |
| **/sbin**      | 시스템 관리용 실행 파일                                                                                                                |
| **/tmp**       | 임시파일 디렉터리                                                                                                                      |
| **/usr**       | 애플리케이션이 설치되는 디렉터리                                                                                                       |
| **/var**       | 시스템에서 운영되는 임시파일 및 로그 파일                                                                                              |

> **/dev 하위 장치 파일 시스템**<br>
> |**디렉터리명**|**설명**|
> |---|---|
> |**/dev/fd**|플로피 디스크|
> |**/dev/sda**|SCSI 및 SATA 하드 디스크|
> |**/dev/cdrom**|CD ROM 드라이버|
> |**/dev/mouse**|마우스|
> |**/dev/had**|마스터 IDE 하드 디스크(첫 번째 하드 디스크)|
> |**/dev/hdb**|슬레이브 IDE 하드 디스크(두 번째 하드 디스크)|
> |**/dev/hd**|하드 디스크|

### 파일 시스템 명령어

#### fdisk

🔹 파일 시스템을 생성하기 위해서는 하드 디스크를 초기화하고, 필요 시 *파티션*을 수행해 분할해야 한다.<br>
🔹 `fdisk [옵션] ... [장치명]` 명령어를 통해 하드 디스크를 초기화하거나 파티션을 생성할 수 있다.

> **파티션(Partition)이란?** <br>한 개의 하드 디스크를 여러 개로 분리하여 분리 공간에 따라 다른 용도로 사용할 수 있게 하는 것이다.<br>

| **옵션**      | **설명**                   |
| ------------- | -------------------------- |
| **-l**        | 현재 파일 시스템 목록 확인 |
| **-v**        | 버전 정보 확인             |
| **-s 장치명** | 입력 장치 크기를 출력      |
| **-d**        | 파티션 삭제                |
| **-n**        | 새로운 파티션 생성         |
| **-p**        | 현재 파티션 설정 상태 확인 |

#### mkfs

🔹 `mkfs [옵션] ... [장치명]` 명령어를 통해 파티션에 파일 시스템을 생성할 수 있다.<br>

| **옵션** | **설명**                                             |
| -------- | ---------------------------------------------------- |
| **-V**   | 실행되는 파일 시스템의 특정 명령어 등 모든 정보 출력 |
| **-t**   | 파일 시스템 형식 선택                                |
| **-c**   | Bad Block 검사, Bad Block 리스트를 초기화            |
| **-l**   | 파일로부터 초기 Bad Block을 읽음                     |
| **-v**   | 현재 진행 사항 출력                                  |

> **파일 시스템 생성 예제**<br> `mkfs -t ext4 /dev/sdb1`로 ext4 파일 시스템을 생성한다.

#### fsck

🔹 `fsck [옵션] ... [장치명]` 명령어를 통해 파일 시스템의 *무결성을 검사*하고 오류 수정을 할 수 있다.<br>

> **무결성 검사란?**<br>파일 시스템은 상위 디렉터리, 하위 디렉터리, 그리고 파일 간의 링크 정보(심볼릭 링크)등을 가지고 있어야 한다.<br>이런 정보에 오류가 발생하면 파일 시스템의 구조를 파악할 수 없다.

| **옵션** | **설명**                                                               |
| -------- | ---------------------------------------------------------------------- |
| **-s**   | 대화형 모드에서 여러 파일 시스템을 점검할 때 `fsck` 동작을 시리얼화 함 |
| **-t**   | 검사를 수행할 파일 시스템을 지정                                       |
| **-A**   | `/etc/fstab` 파일에 기술된 파일 시스템을 모두 검사                     |
| **-N**   | 검사는 수해하지 않고 수행될 내용을 출력함                              |
| **-P**   | 병렬 처리를 수행하여 루트 파일 시스템 점검                             |
| **-R**   | 루트 파일 시스템은 제외                                                |
| **-V**   | 명령을 포함해 세부 내역을 출력함                                       |
| **-a**   | 무결성 검사 후 자동 검사 수행(비권장, 대신 `-y` 사용 권장)             |
| **-r**   | 대화형 모드를 수행하며 오류를 수행(비권장, 대신 `-y`사용 권장)         |
| **-n**   | 오류를 수정하지 않고 표준 출력으로 출력함                              |
| **-y**   | 특정 파일 시스템에 대해 오류를 자동 수정함                             |

#### mount

🔹 `mount [옵션][장치명][마운트포인트]` 명령어를 통해 파일 시스템을 특정 디렉터리에 연결(마운트)할 수 있다.<br>

| **옵션**       | **설명**                                        |
| -------------- | ----------------------------------------------- |
| **-v**         | 자세한 정보 출력 모드                           |
| **-f**         | 마운트를 할 수 있는지 점검                      |
| **-n**         | `/etc/mtab` 파일에 쓰기 작업을 하지 않고 마운트 |
| **-r**         | 읽기만 가능하도록 마운트                        |
| **-w**         | 읽기 및 쓰기 모드로 마운트                      |
| **-t vfstype** | `-t`다음에 쓰이는 인수로 파일 시스템 유형 지정  |

#### umount

🔹 `umount [옵션][장치명 또는 마운트포인트]` 명령어를 통해 마운트된 파일 시스템을 해제할 수 있다.<br>

| **옵션**             | **설명**                                          |
| -------------------- | ------------------------------------------------- |
| **-n**               | `/etc/mtab` 파일을 변경하지 않고 마운트를 해제    |
| **-v**               | 정보 출력                                         |
| **-a**               | `/etc/mtab` 파일에 지정된 파일 시스템을 모두 해제 |
| **-t 파일 시스템명** | 지정된 파일 시스템을 해제                         |

#### fstab 파일

🔹 부팅 시 자동으로 마운트를 수행할 파일 시스템 정보를 저장하는 파일이다.<br>
🔹 `[파일 시스템 장치(레이블 명)][마운트 포인트(디렉터리 명)][파일 시스템 형식][옵션(Read Only 및 Read Write)][덤프(0, 1)][파일점검 옵션(0, 1, 2)]` <br>
🔹 덤프는 0일 경우 덤프가 실행되지 않고 1일 경우 백업을 위해 덤프가 가능한 파일 시스템이다.<br>
🔹 파일점검 옵션은 0일 경우 부팅 시에 `fsck`가 실행되지 않고 1은 루트 파일 시스템이며 2는 루트 파일 시스템을 제ㅚ한 나머지 파일 시스템이다.<br>

| **옵션**          | **설명**                                              |
| ----------------- | ----------------------------------------------------- |
| **defult**        | 일반적인 파일 시스템                                  |
| **auto / noauto** | 부팅 시에 자동으로 마운트 여부 설정                   |
| **exec / noexec** | 실행 파일이 실행되게할 지 결정                        |
| **suid / nosuid** | `setuid`와 `setgid`를 허용할 지 결정                  |
| **ro**            | 읽기 전용 파일 시스템(Read Only)                      |
| **rw**            | 읽고 쓰기가 가능한 파일 시스템(Read Write)            |
| **user / nouser** | 일반 사용자도 가능할 지, root만 마운트 가능할 지 결정 |
| **userquota**     | 개별 사용자의 쿼터 설정이 가능한 파일 시스템          |
| **grpquota**      | 그룹별 쿼터 설정이 가능한 파일 시스템                 |

> **`mstab` 파일과의 차이점**<br>`fstab`은 파일 시스템의 설정 정보이고, `mstab`은 현재 마운트된 파일 시스템 목록이다.<br>

### 리눅스 계정 관리

🔹 `useradd` 혹은 `adduser` 명령어로 사용자를 생성할 수 있다.<br>
🔹 사용자가 계정으로 로그인 하기 위해 패스워드를 입력하면 `/etc/passwd`와 `/etc/shadow`파일을 참조해 정당한 사용자(Right User)인지 확인 후 로그인을 수행한다.

#### /etc/passwd 파일 구조

🔹 이 파일은 모든 사용자가 읽을 수 있으며, 루트 사용자만 쓸 수 있다.<br>
![passwd](https://github.com/CHOO-O/CHOO-study/blob/main/Network/assets/P03-S07-passwd.png?raw=true)

1️⃣ **Login Name** : 사용자 ID<br>
2️⃣ **Password** : 사용자 암호 필드이나 실제 암호는 `shadow`파일에 저장되며, 일반적으로 `passwd` 파일엔 `x` 혹은 `*`로 표기된다.<br>
3️⃣ **User ID** : 사용자 UID<br>
4️⃣ **User Group ID** : 사용자 그룹 ID(GID)<br>
5️⃣ **Comments** : 사용자 설명 필드. 일반적으로 이름 정도를 작성한다.<br>
6️⃣ **Home Directory** : 사용자의 홈 디렉터리 경로<br>
7️⃣ **Shell** : 사용자의 기본 셸 종류<br>

> | UID,GID 값  | 설명                                                                      |
> | ----------- | ------------------------------------------------------------------------- |
> | `0`         | 루트(root) 사용자/그룹. 최상위 권한을 가짐.                               |
> | `1~99`      | 시스템에서 예약된 UID/GID (일반적으로 특정 데몬 및 서비스용)              |
> | `100~999`   | 시스템 사용자(서비스 계정)/그룹. `systemd`, `mysql`, `nginx` 등이 포함됨. |
> | `1000` 이상 | 일반 사용자의 UID/GID (일반적으로 첫 번째 일반 사용자의 UID는 `1000`)     |

#### /etc/shadow 파일 구조

🔹 이 파일은 루트 사용자만 읽고 쓸 수 있다.<br>
![shadow](https://github.com/CHOO-O/CHOO-study/blob/main/Network/assets/P03-S07-shadow.png?raw=true)

1️⃣ **Login Name** : 사용자 ID<br>
2️⃣ **Encrypted** : **암호화**된 사용자 암호<br>
3️⃣ **Last Changed** : 마지막 패스워드 변경 날짜. 1970년 1월 1일 기준 일 수로 기록된다.<br>
4️⃣ **Minimum** : 패스워드를 변경할 수 없는 최소 일 수.(`0`이면 언제든지 변경 가능)<br>
5️⃣ **Maximum** : 패스워드를 유지할 수 있는 최대 일 수.(`99999`이면 만료되지 않음)<br>
6️⃣ **Warn** : 패스워드 만료 전 사용자에게 경고하는 일 수.(`7`이면 만료 7일 전 경고 메시지 출력)<br>
7️⃣ **Inactive** : 패스워드 만료 후 계정 비활성화까지의 유예 기간.(비어있으면 비활성화되지 않음)<br>
8️⃣ **Expire** : 계정이 만료되는 날짜.(비어있으면 만료되지 않음)<br>

> **Reserved 필드** <br> 현재 사용되지 않는 필드로 `:`만 존재하고 비어있다.

### 리눅스 권한 관리

![permissions](https://github.com/CHOO-O/CHOO-study/blob/main/Network/assets/P03-S07-permissions.png?raw=true)

#### umask

🔹 umask값은 디렉터리/파일이 생성될 때 적용될 기본 권한을 의미한다.<br>
🔹 디렉터리의 기본 권한은 777, 파일의 기본 권한은 666이다.<br>
🔹 4자리의 umask값은 특수 권한(SUID, SGID, Sticky Bit) 제한을 포함한 값이다.<br>
🔹 최종 권한 = 기본 권한 - umask 값이 된다. (ex. 파일의 umask = 022면 최종 권한 = 666 - 022 = 644 = rw-r--r--)

#### chmod

🔹 `chmod [옵션] 파일명` 명령어를 통해 사용자에게 권한을 부여할 수 있다.<br>
🔹 `-u`는 사용자, `-g`는 그룹, `-o`는 다른 사용자이다.<br>

| **명령 기호** | **설명** |
| ------------- | -------- |
| **u**         | user     |
| **g**         | group    |
| **o**         | other    |
| **a**         | all      |
| **+**         | 추가     |
| **-**         | 삭제     |
| **r**         | 읽기     |
| **w**         | 쓰기     |
| **x**         | 실행     |

#### chown

🔹 `chown [옵션][소유자명:그룹명 또는 UID:GUID][파일명/디렉터리명]` 명령어를 통해 파일/디렉터리에 대한 **소유권**을 변경할 수 있다.<br>

| **명령어 옵션** | **설명**                                   |
| --------------- | ------------------------------------------ |
| **-R**          | 하위 디렉터리의 모든 권한을 변경           |
| **-c**          | 소유자나 그룹이 변경된 경우 변경 내역 출력 |

| **명령어 대상** | **설명**         |
| --------------- | ---------------- |
| **u**           | user 권한        |
| **g**           | group 권한       |
| **o**           | other 권한       |
| **a**           | 모든 사용자 권한 |

| **명령어 인자 값** | **설명**              |
| ------------------ | --------------------- |
| **+**              | 해당 권한을 더함      |
| **-**              | 해당 권한을 제거함    |
| **=**              | 해당 권한 그대로 변경 |

#### chgrp

🔹 `chgrp [옵션][파일명/디렉터리명]` 명령어를 통해 파일/디렉터리에 대한 그룹을 변경할 수 있다. 단, 소유자는 변경할 수 없다.<br>

| **옵션** | **설명**                                             |
| -------- | ---------------------------------------------------- |
| **-c**   | 그룹이 변경된 경우 변경 내역 출력                    |
| **-h**   | _심볼릭 링크_ 자체의 그룹을 변경                     |
| **-f**   | 오류 메시지를 출력하지 않고 실행                     |
| **-v**   | 그룹 변경 여부와 관계없이 모든 파일의 변경 내역 출력 |
| **-R**   | 하위 모든 파일도 지정한 그룹으로 변경                |

> **심볼링 링크란?**<br>원본 파일을 가리키는 바로가기 역할을 하는 파일이다.<br>기본 `chgrp` 또는 `chown`명령어를 실행하면 심볼릭 링크가 아니라 원본 파일의 그룹이 변경된다.

#### 특수 권한

| 특수 권한      | 기호 | 8진수  | 설명                                                   |
| -------------- | ---- | ------ | ------------------------------------------------------ |
| **SetUID**     | `s`  | `4XXX` | 실행 시 파일 소유자의 권한으로 실행한다.               |
| **SetGID**     | `s`  | `2XXX` | 파일 생성자의 그룹 소유권을 얻는다.                    |
| **Sticky Bit** | `t`  | `1XXX` | 디렉터리에서 파일 삭제를 소유자만 가능하도록 제한한다. |

## 리눅스 명령어

### 디렉터리 명령어

🔹 디렉터리(Directory)는 파일을 저장하고 관리하는 저장 단위이다.<br>
🔹 `mkdir`명령어로 디렉터리를 생성하고 `rmdir`명령어로 디렉터리를 삭제한다.<br>

#### mkdir

| **옵션** | **설명**                                              |
| -------- | ----------------------------------------------------- |
| **-m**   | 디렉터리 권한을 설정<br>기본 값은 755 (rwxr-xr-x)     |
| **-p**   | 상위 경로도 함께 지정함                               |
| **-v**   | 디렉터리 생성 후 생성된 디렉터리에 대한 메시지를 출력 |

### 파일 명령어

#### cp(copy)

🔹 파일 혹은 디렉터리를 복사하는 명령어이다.<br>
🔹 `cp [옵션][원본 파일명][복사할 파일명]`으로 사용할 수 있다<br>

| **옵션** | **설명**                |
| -------- | ----------------------- |
| **-f**   | 덮어쓰기로 복사         |
| **-r**   | 하위 디렉터리 전부 복사 |

#### rm(remove)

🔹 파일 혹은 디렉터리를 삭제할 때 사용하는 명령어이다.<br>
🔹 `rm [옵션][파일 또는 디렉터리]`로 사용할 수 있다.<br>

| **옵션** | **설명**                                   |
| -------- | ------------------------------------------ |
| **-f**   | 물어보지 않고 강제로 삭제함                |
| **-r**   | 디렉터리 삭제 시 파일과 하위경로 모두 삭제 |
| **-v**   | 파일 삭제 정보를 출력함                    |

#### mv(move)

🔹 파일 및 디렉터리를 이동하거나 파일의 이름을 변경할 때 사용하는 명령어이다.<br>
🔹 원본 파일과 대상 파일의 이름이 다르면 변경되고, 여러 파일을 이동하면 이동만 한다.<br>
🔹 `mv [옵션][원본 파일 또는 디렉터리][대상 파일 또는 디렉터리]`로 사용할 수 있다.<br>

| **옵션** | **설명**                              |
| -------- | ------------------------------------- |
| **-b**   | 백업 파일을 생성                      |
| **-f**   | 사용자에게 묻지 않고 파일을 덮어씀    |
| **-i**   | 덮어 쓸 경우 사용자에게 물어봄        |
| **-n**   | 파일이 존재하면 덮어쓰지 않음         |
| **-S**   | 지정한 접미사로 백업 생성             |
| **-t**   | 전체 원본 파일을 대상 디렉터리로 이동 |
| **-u**   | 파일이 업데이트 된 경우만 이동        |
| **-v**   | 진행 상태 정보를 출력                 |

#### cat

🔹 파일의 내용을 확인할 때 사용하는 명령어이다.<br>
🔹 `cat [옵션][파일명]`으로 사용할 수 있다.<br>
🔹 `-n`옵션을 통해 행 번호를 출력할 수 있다.<br>

#### grep

🔹 특정 파일 내 문자열을 검색하는 명령어이다.<br>
🔹 `grep [옵션][검색할 패턴][파일명]`으로 사용할 수 있다.<br>

| **옵션** | **설명**                         |
| -------- | -------------------------------- |
| **-c**   | 검색 문자열이 속한 행 수를 출력  |
| **-H**   | 파일명과 함께 출력               |
| **-i**   | 대소문자 구분 안함               |
| **-n**   | 행 번호와 함께 출력              |
| **-r**   | 현재 경로에서 하위 경로까지 검색 |
| **-v**   | 검색하는 문자가 없는 행을 출력   |
| **-w**   | 패턴 표현식을 하나의 단어로 검색 |

🔹 정규식 표현식(Regular Expressions)을 사용할 수 있다.<br>

| **옵션** | **설명**                |
| -------- | ----------------------- |
| **.**    | 한 글자                 |
| **\***   | 길이와 관계 없는 문자열 |
| **^**    | 행의 첫 시작            |
| **$**    | 행의 마지막             |
| **[]**   | 한 문자길이 패턴        |
| **[^]**  | 입력된 문자들의 여집합  |
| **\\**   | 이스케이프 문자         |
| **\\<**  | 단어의 시작위치         |
| **\\>**  | 단어의 마지막 위치      |

### 네트워크 명령어

#### netstat

🔹 `netstat [옵션]` 명령어를 통해 **시스템과 연결 된 모든 네트워크 연결**을 확인할 수 있다.<br>

| **옵션** | **설명**                            |
| -------- | ----------------------------------- |
| **-a**   | 모든 소켓 정보 확인                 |
| **-n**   | 도메인 주소를 읽지 않고 숫자로 출력 |
| **-p**   | PID와 사용 중인 프로그램 명을 출력  |
| **-g**   | 멀티캐스트 그룹 정보                |

| **상태 값**     | **설명**                                        |
| --------------- | ----------------------------------------------- |
| **LISTEN**      | 접속 요청 대기 상태                             |
| **ESTABLISHED** | 연결 확립되어 통신이 되고 있는 상태             |
| **CLOSE_WAIT**  | 연결 종료 대기 상태                             |
| **TIME_WAIT**   | 연결 종료 후 특정 시간 동안 소켓을 열어 둔 상태 |
| **CLOSE**       | 언결 종료 상태                                  |

🔹 `Ref`필드는 현재 라우터별로 활성화 되어 있는 사용중인 숫자이다.<br>
🔹 `Use`는 전송하거나 받은 패킷을 의미한다.<br>
🔹 `Flags`필드는 아래와 같다.<br>
|**Flags**|**설명**|
|---|---|
|**U**|라우터가 Up 상태|
|**G**|Default Gateway|
|**H**|라우터가 호스트 장비|
|**S**|라우터가 `-setsrc`옵션으로 생성|
|**D**|라우터가 `redirect`로 동적으로 생성|
|**A**|혼합된 라우팅|
|**B**|브로드캐스트 주소|
|**L**|호스트 로컬주소|

#### arp

🔹 ARP 명령어로, `arp [옵션][호스트명 또는 IP]`로 사용할 수 있다.<br>

| **옵션** | **설명**                                        |
| -------- | ----------------------------------------------- |
| **-a**   | ARP Cache 에 있는 모든 호스트 정보 출력         |
| **-s**   | ARP Cache에 저장된 특정 IP에 대해 MAC 주소 변경 |
| **-d**   | ARP Cache에 저장된 특정 MAC 주소 삭제           |
| **-i**   | 특정 Ethernet의 ARP 확인                        |

#### traceroute

🔹 네트워크를 사용해 목적지를 찾아가는 **경로 정보**를 확인할 수 있다.<br>
🔹 IP 주소 혹은 URL 주소를 입력하면 방문 구간 별 게이트웨이명, IP 주소, 시간 등을 표시한다.<br>
🔹 `traceroute [옵션][목적지 호스트 또는 IP]`로 사용할 수 있다.<br>
🔹 내부적으로 UDP와 ICMP를 사용한다.<br>

| **옵션** | **설명**                                    |
| -------- | ------------------------------------------- |
| **-m**   | IP 패킷의 최대 TTL 설정 (기본값은 30)       |
| **-n**   | 홉(Hop) 주소를 출력                         |
| **-p**   | 사용되는 UDP 포트를 지정                    |
| **-r**   | 목적 호스트가 직접 로컬로 연결되엇다고 지정 |
| **-s**   | 호스트 IP를 지정                            |
| **-t**   | 패킷에 대한 Type of Service를 지정          |
| **-v**   | 상세 정보를 출력                            |
| **-w**   | 전송 패킷을 대기하는 시간 설정              |

#### ping

🔹 네트워크 상태를 점검하기 위한 명령어이다.<br>
🔹 ICMP echo Request를 보내 ICMP echo reply가 돌아오는 지 확인하는 방식이다.<br>

#### nslookup

🔹 네트워크를 관리할 수 있는 도구 명령어이다.<br>
🔹 도메인 명에 대한 IP 주소를 확인하기 위해 DNS에 Query를 실행한다.<br>

### 리눅스 종료

#### shutdown

🔹 리눅스 정지 명령어로, `shutdown [옵션][시간][메시지]`로 사용한다.<br>
|**옵션**|**설명**|
|---|---|
|**-r**|재부팅|
|**-h**|shutdown 완료 후 시스템 종료|
|**-c**|진행 중인 shutdown 취소|
|**-k**|경고 메시지만 출력하고 실제 shutdown은 실행하지 않음|
|**-f**| fsck를 실행하지 않고 재부팅|
|**-t sec**| 지정한 시간에 재기동|
|**-v**|상세 정보 출력|

#### reboot

🔹 리눅스 다시 시작 명령어로, `reboot [옵션]`으로 사용한다.<br>
|**옵션**|**설명**|
|---|---|
|**-n**|연산을 중지하고 다시 시작|
|**-f**|강제로 다시 시작|
|**-p**|연산 중지 시 전원 종료|
|**-q**|오류가 없으면 다시 시작하지 않음|
|**-v**|상세 정보 출력|

#### halt

🔹 리눅스 종료 명령어로, `halt [옵션]`으로 사용한다.<br>
|**옵션**|**설명**|
|---|---|
|**-d**|wtmp에 로그를 기록하지 않음|
|**-f**|강제로 종료함|
|**-n**|종료할 때 동기화를 하지 않음|
|**-w**|실제로 종료하지 않고 `/var/log/wtmp`에 로그를 기록|

## 프로세스

### 데몬(Daemon)

🔹 프로세스는 메모리를 점유하고 사용자의 요청에 따라 명령을 실행한다.<br>
🔹 데몬 프로세스는 리눅스 서버가 부팅될 때 백그라운드에서 실행되고 있다가 요청이 생기면 서비스를 수행하는 프로세스이다.<br>
🔹 리눅스 부팅 시 실행되는 프로세스들은 init 프로세스가 기동시키는 것이다.<br>

| **종류**            | **설명**                                                                         |
| ------------------- | -------------------------------------------------------------------------------- |
| **standalone 방식** | 백그라운드에서 항상 실행되고 있으며, 서비스 요청을 즉시 처리한다.                |
| **inetd 방식**      | 메모리에 상주하지 않는 sleep 상태로 존재하며, 서비스 요청 시 Wake up해 처리한다. |

### 프로세스 모니터링

#### ps

🔹 프로세스 상태 정보를 확인하는 명령어이다. <br>
🔹 프로세스 리스트를 출력하며, 프로세스 ID 등을 확인할 수 있다.<br>

#### pstree

🔹 실행 중인 프로세스의 상태를 트리 형태로 출력하는 명령어이다.<br>
🔹 `-n` 옵션으로 PID 순으로 정렬하고, `-P` 명령어로 프로세스 명과 함께 PID를 출력한다.<br>

#### top

🔹 시스템 자원을 모니터링 할 수 있는 소프트웨어이다.<br>
🔹 CPU 사용률, 실행 중인 프로세스 리스트 등을 확인할 수 있음.<br>

<!-- ### vi 편집기 -->
